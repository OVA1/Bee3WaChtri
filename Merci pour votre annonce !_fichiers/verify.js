var accentList_={A:"ÀÁÂÃĀĂȦÄẢÅǍȀȂĄẠḀẦẤẪẨẰẮẴẲǠǞǺẬẶ",a:"àáâãāăȧäảåǎȁąạḁẚầấẫẩằắẵẳǡǟǻậặ",b:"ḃɓḅḇƀƃƅ",B:"ḂƁḄḆƂ",C:"ĆĈĊČƇÇḈ",c:"ćĉċčƈçḉ",d:"ḋɗḍḏḑḓďđƌȡ",D:"ḊƊḌḎḐḒĎĐƉƋ",E:"ÈÉÊẼĒĔĖËẺĚȄȆẸȨĘḘḚỀẾỄỂḔḖỆḜƎ",e:"èéêẽēĕėëẻěȅȇẹȩęḙḛềếễểḕḗệḝǝ",f:"ḟƒ",F:"ḞƑ",G:"ǴĜḠĞĠǦƓĢǤ",g:"ǵĝḡğġǧɠģǥ",h:"ĥḣḧȟƕḥḩḫẖħ",H:"ĤḦȞǶḤḨḪĦ",I:"ÌÍÎĨĪĬİÏỈǏỊĮȈȊḬƗḮ",i:"ìíîĩīĭıïỉǐịįȉȋḭɨḯ",j:"ĵǰ",J:"Ĵ",K:"ḰǨḴƘḲĶ",k:"ḱǩḵƙḳķ",l:"ĺḻḷļḽľŀłƚḹȴ",L:"ĹḺḶĻḼĽĿŁḸ",M:"ḾṀṂ",m:"ḿṃ",n:"ǹńñṅňŋɲṇņṋṉŉ",N:"ǸŃÑṄŇŊƝṆŅṊṈȠ",O:"ÒÓÔÕŌŎȮÖỎŐǑȌȎƠǪỌƟØỒỐỖỔȰȪȬṌṐṒỜỚỠỞỢǬỘǾ",o:"òóôõōŏȯöỏőǒȍȏơǫọɵøồốỗổȱȫȫȭṍṏṑṓờớỡởợǭộǿ",p:"ṕṗƥ",P:"ṔṖƤ",R:"ŔṘŘȐȒṚŖṞṜƦ",r:"ŕṙřȑȓṛŗṟṝ",s:"śŝṡšṣșşṥṧṩ",S:"ŚŜṠŠṢȘŞṤṦṨ",T:"ṪŤƬƮṬȚŢṰṮŦ",t:"ṫẗťƭʈƫṭțţṱṯŧȶ",u:"ùúûũūŭüủůűǔȕȗưụṳųṷṵṹṻǖǜǘǖǚừứữửự",U:"ÙÚÛŪŨŬÜỦŮŰǓȔȖƯỤṲŲṶṴṸṺǛǗǕǙỪỨỮỬỰ",V:"ṼṾ",v:"ṽṿ",w:"ẁẃŵẇẅẘẉ",W:"ẀẂŴẆẄẈ",X:"ẊẌ",x:"ẋẍ",y:"ỳýŷȳẏÿỷẙƴỵ",Y:"ỲÝŶỸȲẎŸỶƳỴ",Z:"ŹẐŻŽȤẒẔƵ",z:"źẑżžȥẓẕƶ"};var accentList={};for(var ch in accentList_){var x=accentList_[ch];for(var i=0;i<x.length;++i){accentList[x[i]]=ch}}function isInArray(b,c){if(!c||c.length==0){return false}for(var a in c){if(c[a].split(":")[0]==b){return true}}return false}function setCookie(c,e,a,h,d,g){var b=new Date();b.setTime(b.getTime());if(a){a=a*1000*60*60*24}var f=new Date(b.getTime()+(a));document.cookie=c+"="+escape(e)+((a)?";expires="+f.toGMTString():"")+((h)?";path="+h:"")+((d)?";domain="+d:"")+((g)?";secure":"")}function getCookie(c){var d=document.cookie.indexOf(c+"=");var a=d+c.length+1;if(!d&&c!=document.cookie.substring(0,c.length)){return null}if(d==-1){return null}var b=document.cookie.indexOf(";",a);if(b==-1){b=document.cookie.length}return unescape(document.cookie.substring(a,b))}function deleteCookie(a,c,b){if(getCookie(a)){document.cookie=a+"="+((c)?";path="+c:"")+((b)?";domain="+b:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}}function trim(a){return a.replace(/^\s+/g,"").replace(/\s+$/g,"")}var focused=false;scrollToError=function(b){if(focused){return}var a=document.getElementById(b);scrollToObject(a);if(document.getElementById(b)){document.getElementById(b).focus()}focused=true};function scrollToBottom(){window.scrollTo(0,10000)}function scrollToObject(a){var c=0;var b=0;while(a){c+=a.offsetLeft;b+=a.offsetTop;a=a.offsetParent}if(typeof(document.body.leftMargin)!="undefined"){c+=document.body.leftMargin;b+=document.body.topMargin}window.scrollTo(0,b)}setFocus=function(a){if(document.getElementById(a)){document.getElementById(a).focus()}};function setChecked(b,c){var a=document.getElementById(b);if(a==null){return}a.checked=c}function setValue(b,c){var a=typeof(b)=="string"?document.getElementById(b):b;if(a==null){return}a.value=c}function ProgressBar(d){this.progress=[];this.container=d||"progressbar_container";this.completed=false;this.ESTIMATE_MIN_PROGRESS=10;this.SPEED_CALC_LATEST=30;this.clear();var b=document.getElementById(this.container);if(!b){return}var e=document.createElement("div");e.className="progress_bar";var a=document.createElement("div");a.className="progress_blue";a.style.width="0px";var c=document.createElement("div");c.className="progress_debug";c.id="progress_debug_id";e.appendChild(a);b.appendChild(e);b.appendChild(c);b.appendChild(document.createElement("br"))}ProgressBar.prototype.clear=function(){this.progress=[];var a=document.getElementById(this.container);if(!a){return}while(a.childNodes.length>0){a.removeChild(a.childNodes[0])}};ProgressBar.prototype.update=function(a,b){if(this.completed){return}var d=this.progress.length;var c=new Date();this.progress[d]={progress:a,total:b,time:c.getTime()};this.completed=a==b};ProgressBar.prototype.current=function(){var a=this.progress.length;if(a==0){return}return this.progress[a-1]};ProgressBar.prototype.procent=function(b){var a=this.progress[b]||this.current();if(a&&a.progress){return Math.round(a.progress/a.total*100)}return 0};ProgressBar.prototype.speed=function(){if(this.progress.length==0){return}var c=Math.floor(this.progress.length*this.SPEED_CALC_LATEST/100);var a=this.progress.length-c-1;if(a<0){a=0}var f=this.progress[a];var e=this.current();var b=e.progress-f.progress;var d=(e.time-f.time);return(b/d)};ProgressBar.prototype.estimate=function(){if(this.procent()<this.ESTIMATE_MIN_PROGRESS){return}var d=this.speed();var c=this.current();var b=c.total-c.progress;var a=Math.round(b/d);return a};ProgressBar.prototype.draw=function(){var c=document.getElementById(this.container);if(!c){return}c.style.display="block";var g=this.estimate()/1000;var d=this.speed();var h=this.procent();if(c.childNodes.length){var k=c.getElementsByTagName("div")[0];var e=c.getElementsByTagName("div")[1];e.style.width=Math.round((k.offsetWidth-2)*h/100)+"px";var b=c.getElementsByTagName("div")[2];var a=Math.floor(g/60);var j=Math.round(g-a*60);var f="";if(a+j>0){f=js_info.TIME_LEFT+": "}if(a>0){f+=a+" min "}if(j>0){f+=j+" s"}b.innerHTML=h+"%&nbsp;&nbsp;&nbsp;"+f}};ProgressBar.prototype.update_draw=function(a,b){if(this.completed){return}this.update(a,b);this.draw()};function progressBar(a){document.write('<div id="loading" class="progressBar">'+a+'<span id="loading_dots"></span></div>')}function startProgressBar(e,b){b=b?b:"loading";var d=document.getElementById(b);var c="";e%=4;for(var a=0;a<e;a++){c+="."}document.getElementById(b+"_dots").innerHTML=c;e++;d.timer=setTimeout("startProgressBar("+e+",'"+b+"')",500)}function showProgressBar(a){a=a?a:"loading";var b=$("#"+a);if(b){startProgressBar(1,a);b.removeClass("hidden")}}function hideProgressBar(a){var b=$("#"+a);if(b){clearTimeout(b.timer);b.addClass("hidden");display_element(null,{id:"TipBox"})}}var styles=[];function getElementsByClassName(b,f,a){var e=(f=="*"&&b.all)?b.all:b.getElementsByTagName(f);var h=new Array();a=a.replace(/\-/g,"\\-");var g=new RegExp("(^|\\s)"+a+"(\\s|$)");var d;for(var c=0;c<e.length;c++){d=e[c];if(g.test(d.className)){h[h.length]=d}}return(h)}function get_settings(f,a,k,c){if(!k){k=settings}var g;for(var e in k[f]){var m=k[f][e];var b;b=null;if(k[f][e]["keys"]){for(var d in k[f][e]["keys"]){var h=k[f][e]["keys"][d];var l=a(h,c);if(m[l]){m=m[l]}else{if(m["*"]){m=m["*"]}else{break}}}if(m.value){b=m.value}}else{if(k[f][e]["default"]){b=k[f][e]["default"]}}if(b){if(g){g+=","+b}else{g=b}if(!k[f][e]["continue"]){break}}}return g}function split_setting(d){if(!d){return{}}var a=d.replace(/\\,/g,"BACKSLASH_COMMA").replace(/\\:/g,"BACKSLASH_COLON").split(",");var b={};for(i=0;i<a.length;i++){var c=a[i].split(":",2);if(c&&c.length>1){b[c[0]]=c[1].replace(/BACKSLASH_COMMA/g,",").replace(/BACKSLASH_COLON/g,":")}else{b[a[i]]=1}}return b}function Pixel(b,j,l,h,g,m,f,c,e){var a;var k=new Date();if(!j){j="failure_"+window.location.host.replace(/\.|:/gi,"_")+window.location.pathname.replace(/\/|\./g,"_")}a=b+"/1x1_pages_"+j;if(l){a+="_c"+l}else{a+="_cpuk"}if(h){a+="_a"+h}else{a+="_apuk"}if(g){a+="_"+g}if(m){a+="_"+m}if(f){a+="_qh"+f}if(e){a+="_l"+e}a=a+".gif?r="+k.getTime();if(c&&getCookie(c)){a+="&"+c+"=1"}if(document.write_org!=null){document.write_org('<img src="'+a+'" height="1" width="1" id="stats_1x1">')}else{document.write('<img src="'+a+'" height="1" width="1" id="stats_1x1">')}}window.common=window.common||{};common.set_md=function(c,a,b){setCookie("md",c,a,"/",b,false);return true};function googleAnalyticsScript(c){var b=c.createElement("script");b.type="text/javascript";b.async=true;b.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var a=c.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)}function show_delete_survey(b,a){$("#"+a.id).slideDown()}function hide_delete_survey(b,a){$("#"+a.id).slideUp()}function manage_sub_forms(b,a){$("input[name="+a.name+"]").each(function(){if($(this).prop("checked")){$("#sub_form_"+$(this).attr("value")).show(1,function(){$("#"+a.id).focus()})}else{$("#sub_form_"+$(this).attr("value")).hide(1)}})}function onload_delete_survey(){if($("#cmd_delete").prop("checked")){$("#deletion_reasons_fieldset").show()}else{$("#deletion_reasons_fieldset").hide()}$('input[name="deletion_reason"]').each(function(){if($(this).prop("checked")){$(this).next("div[id^='sub_form_']").show()}})}function hide_video(a){a=a||"";var c=document.getElementById("flowplayerholder"+a);var d=document.getElementById("display_image"+a);if(c){c.style.display="none";var b=c.parentNode;b.removeChild(c)}if(d){d.style.display="block"}}var styles=[];function thumbnailBorder(b,d,a){var a=a?a:"";if(!b){return}if(b.name!="video"){hide_video(a)}for(i=0;i<d;i++){var c=document.getElementById("thumb"+i+a);if(!styles[i]){styles[i]=c.className.replace("ad_border_solid_black","ad_border_solid_grey")}if(b.id==c.id){c.className="ad_thumb ad_border_solid_black"}else{c.className=styles[i]}}}function resizeImage(d,c,e,a){if(!e){e=new Image;e.src=c}if(e.width==0){e.onload=setTimeout(function(){resizeImage(d,c,e,a)},0);return}d.src=e.src;if(a&&e.width>400){var b=(e.width-400)/e.width;d.height=e.height*(1-b);d.width=400}else{d.width=e.width;d.height=e.height}}function showLargeImage(c,b,a){var b=b?b:"";var a=a?a:false;var d=document.getElementById("display_image"+b).firstChild;if(a){resizeImage(d,c,null,a)}else{if(navigator.userAgent.toLowerCase().indexOf("safari")>0){var e=new Image;e.src=c;d.src=e.src;waitForNextImage(e,b)}else{d.src=c}}}(function(a){LightBox=function(){this.b=null;this.d=null;this.c=null};LightBox.prototype={setup:function(c,b){this.b=a("html");this.d=a(document);close_lightbox=a("#"+c+" .lightbox_close").add("#"+c+" .lightbox_fade");close_lightbox.on("click",window.LightBox.close);this.c=b},close:function(b){if(b&&typeof(b.preventDefault)=="function"){b.preventDefault()}a(".lightbox").addClass("hidden");window.LightBox.d.unbind("keyup",window.LightBox.escClose);window.LightBox.b.removeAttr("style");if(a(".item_img").length>0&&a(".vi").length>0){a(document).bind("keyup",AdViewImages.bindKeys())}if(typeof(window.LightBox.c)=="function"){window.LightBox.c()}},open:function(c){a("#"+c).removeClass("hidden").children(".lightbox_box");this.b.css("overflow","hidden");a(document).unbind("keyup");this.d.bind("keyup",window.LightBox.escClose);if(a(".ie6").length>0){var b=a("html").scrollTop()+20;a(".lightbox_box").css("top",b)}},escClose:function(b){if(b.keyCode==27){window.LightBox.close(b)}}};if(a!=null){window.LightBox=new LightBox()}})(((typeof jQuery!="undefined")?jQuery:null));function getRegionInput(){if($("#region").length>0){return $("#region")}if($("#searcharea_expanded").length>0){return $("#searcharea_expanded")}return null}function regionInputAdd(d){var a=getRegionInput()[0];var b;b=$("<option></option>");switch(a.id){case"region":b.val(d);b.text(regionArray[d].name[lang]);b.insertBefore(a.options[1]);$(a).val(d);break;case"searcharea_expanded":var c=$("#searcharea_expanded_fisrt_option")[0];b.val(1000+parseInt(d));b.text(regionArray[d].name[lang]);b.attr("id","searcharea_expanded_option_"+d);b.insertBefore(c);$("#searcharea_expanded_option_"+d)[0].selected=true;break}$(a).change();$(a).trigger("change")}function otherRegionChoosen(b){if(typeof(otherRegionChoosen_cbfunc)=="function"){otherRegionChoosen_cbfunc(b);return}var a=getRegionInput()[0];var d=regionArray[b].name[lang];for(var c=0;c<a.options.length;++c){if(a.options[c].text==d){a.options[c].selected=true;if(typeof(showArea)=="function"){showArea()}return}}regionInputAdd(b);if(typeof(showArea)=="function"){showArea()}}var both=0;$(".choose").live("click",function(){for(var a in regionArray){if(trim(regionArray[a].name[lang]).toUpperCase()==trim($("#yourCity").val()).toUpperCase()){otherRegionChoosen(a);window.LightBox.close();return}}if(trim($("#yourCity").val())==""){$("#err_exist").addClass("hidden");$("#err_city").removeClass("hidden");$("#err_bigregion").addClass("hidden");$("#idbox").css("height",245)}else{$("#err_city").addClass("hidden");$("#err_exist").removeClass("hidden");$("#err_bigregion").addClass("hidden");$("#idbox").css("height",245)}});$(".chooseb").live("click",function(){var a=$("#subarea").val();var b=$("#bigregion").val();if(!a){return}if(b==0){$("#err_bigregion").removeClass("hidden");$("#err_city").addClass("hidden");$("#err_exist").addClass("hidden");$("#idbox").css("height",245);both=1}else{$("#err_bigregion").addClass("hidden");$("#idbox").css("height",235);otherRegionChoosen(a);window.LightBox.close()}});function lightbox_close(){if($("#region").val()=="other"){$("#region option[value=0]").attr("selected",true)}}var other_region_selector_setup_done=false;var maxLevDR=0.5;function regSearchCB(j,m){var c=accentFold(trim(j.term)).toLowerCase();var n=[];for(var a in regionArray){var h=regionArray[a].name[lang];var k=accentFold(h).toLowerCase().split(" ");for(var e=0;e<k.length;++e){var f=k[e];var b=Math.min(f.length,c.length);var g=levDist(f.substr(0,c.length),c);if(g<(b*maxLevDR)){n.push(h);break}}}m(n)}function view_other_region_selector(a){var b=[];$("#err_city").addClass("hidden");$("#err_exist").addClass("hidden");$("#err_bigregion").addClass("hidden");$("#idbox").css("height",188);$("#yourCity").attr("value","");$("#bigregion").val(0);$("#subarea").empty().append("<option selected='selected' value='0'>"+$("#messageTest").html()+"</option>");$("#subarea").attr("disabled","disabled");$.each(regionArray,function(d,c){b.push(c.name[lang])});if(!other_region_selector_setup_done){window.LightBox.setup("other_region_box",a)}window.LightBox.open("other_region_box");if(other_region_selector_setup_done){return}$("#yourCity").autocomplete({source:regSearchCB});$("#bigregion").on("change",other_area_selector);other_region_selector_setup_done=true}function other_area_selector(){var b=$("#bigregion").val();var a=$("#subarea");a[0].options.length=0;if(b==0){a.prop("disabled",true)}else{a.prop("disabled",false);$.each(regionCollectorArray[b].regions,function(c,d){a.append($("<option />").val(d).text(regionArray[d].name[lang]))})}}function getRegionId(a){a=trim(a).toUpperCase();for(var b in regionArray){if(trim(regionArray[b].name[lang]).toUpperCase()==a){return b}}return false}var levDist=function(v,u){var p=[];var a=v.length;var f=u.length;if(a==0){return f}if(f==0){return a}for(var k=a;k>=0;k--){p[k]=[]}for(var k=a;k>=0;k--){p[k][0]=k}for(var h=f;h>=0;h--){p[0][h]=h}for(var k=1;k<=a;k++){var g=v.charAt(k-1);for(var h=1;h<=f;h++){if(k==h&&p[k][h]>4){return a}var o=u.charAt(h-1);var e=(g==o)?0:1;var l=p[k-1][h]+1;var r=p[k][h-1]+1;var q=p[k-1][h-1]+e;if(r<l){l=r}if(q<l){l=q}p[k][h]=l;if(k>1&&h>1&&g==u.charAt(h-2)&&v.charAt(k-2)==o){p[k][h]=Math.min(p[k][h],p[k-2][h-2]+e)}}}return p[a][f]};function accentFold(c){var a;if(!accentList){return c}a="";for(var b=0;b<c.length;++b){if(accentList[c.charAt(b)]){a+=accentList[c.charAt(b)]}else{a+=c.charAt(b)}}return a}function redir_to_listing(a){document.location=lang+"/"+friendlyname.region[a][lang]}(function(a){AjaxForm=function(){};AjaxForm.prototype={setup:function(f,h,d,b,e){var j=a("#"+f);var g=a("#"+h);var c=this;this.ajaxForms={url:d,formelemid:f,formelem:j,button:a("#"+f+"_send"),link:a("#"+f+"_link"),errdivs:a(".msg_error",j),lightboxclose:j.parents(".lightbox_box").children(".lightbox_close"),successCallback:b,failedCallback:e};g.bind("click",function(k){c.ajaxForms.errdivs.addClass("hidden")});this.ajaxForms.button.bind("click",function(k){c.submit(k)})},submit:function(c){c.preventDefault();var b=this;var e=this.ajaxForms;showProgressBar(e.formelemid+"_loading");e.errdivs.addClass("hidden");var d=e.formelem.serialize();jQuery.ajax({url:e.url,data:d,type:"POST",dataType:"json",success:function(g,h,f){b.parseResponse(g,h,f,e)},error:function(g,h,f){b.parseResponse(g,h,f,e)},context:e.formelem})},parseResponse:function(g,j,f,e,h){var b=g;if(b.status=="OK"){if(typeof e.successCallback=="function"){e.successCallback(e,b)}a("form")[0].reset();e.lightboxclose.trigger("click")}else{e.errdivs.addClass("hidden");for(var c in b){var d=a("#"+e.formelemid+"_err_"+c);if(d){d.html(b[c]);d.removeClass("hidden")}}if(typeof e.failedCallback=="function"){e.failedCallback(e,b)}}hideProgressBar(e.formelemid+"_loading")}}})(((typeof jQuery!="undefined")?jQuery:null));function toggle(a){if(typeof(a.style)=="undefined"){a=document.getElementById(a)}if((typeof(a.style)=="undefined")||(typeof(a.nodeType)=="undefined")){return false}if(a.style.display=="none"){if(typeof(a.nodeName)=="undefined"){a.style.display="block"}else{switch(a.nodeName){case"TR":case"tr":a.style.display="table-row";break;default:a.style.display="block"}}}else{a.style.display="none"}return true}if(typeof jQuery("#contest")!="undefined"&&typeof base_url!="undefined"){(function(a){successCallback=function(f,c){var e=function(){a("#thanks_contest .lightbox_box_inner").addClass("hidden");a("#contest .lightbox_close").unbind("click",d);location.reload()};var d=function(g){if(g&&typeof(g.preventDefault)=="function"){g.preventDefault()}window.LightBox.setup("thanks_contest",function(){e()});window.LightBox.open("thanks_contest");a("#thanks_contest .lightbox_box_inner").removeClass("hidden")};a("#contest_loading").addClass("hidden");a("#contest .lightbox_close").bind("click",function(){d()})};var b=new AjaxForm();b.setup("contest_form","contest_link",base_url+"/send_contest.json",successCallback,null)})(jQuery);window.LightBox.setup("contest");jQuery("#promo_a").bind("click",function(a){a.preventDefault();window.LightBox.open("contest");return false})};var global_pending_events=0;function hide_element(b,a){jQuery("#"+a.id).addClass("hidden")}function display_element(b,a){jQuery("#"+a.id).removeClass("hidden")}function set_html(c,a){var b=document.getElementById(a.id);if(b){b.innerHTML=a.html}}function set_focus(d,a){if(a.check_focused&&focused){return}for(var c in a.id){var f=a.id[c];if(a.sel_id){f+=this.getAttribute("sel_id")}var b=document.getElementById(f);if(b&&b.offsetWidth){if(!a.only_if_empty||!b.value||b.value.length==0){b.focus()}break}}}function trimInputs(d,b){if(b.keepNewLines==undefined){b.keepNewLines="true"}var c=$("#"+b.id);var a=$.trim(c.val()).replace(/\r\n/g,"\n").replace(/ +/g," ").replace(/[\t\f\t\0]+/g," ");if(b.keepNewLines=="false"){a=a.replace(/\n+/gm,"")}c.val(a)}function show_by_feature(i,b){var j=b.id;var d=b.feat;var a=b.klfun;var c=b.style;var g=document.getElementById(j);if(!g){return}if(!d){d=j}if(!a){a=form_key_lookup}if(!c){c=""}var h=split_setting(get_settings(d,a,category_features));if(h&&h.show>0){g.style.display=c}else{g.style.display="none"}}function register_events(f,a){for(var h in f){var b=f[h];var g=[];if(b.id){var e=a.getElementById(b.id);if(e){g=[e]}}else{if(b.name){if(b.name=="document"){g=[document]}else{if(b.name=="window"){g=[window]}else{g=a.getElementsByName(b.name)}}}else{if(b.array_name){var e;var d=0;while(e=a.getElementsByName(b.array_name+"["+d+"]")[0]){g[d++]=e}}else{if(b.array_id){var e;var d=0;while(e=a.getElementById(b.array_id+d)){g[d++]=e}}}}}for(var c=0;c<g.length;c++){var e=g[c];if(!e.event_ids){e.event_ids=[]}if(isInArray(h,e.event_ids)){continue}e.event_ids[e.event_ids.length]=h;if(!e.events){e.events=[]}if(!e.events[b.trigger]){e.events[b.trigger]=[]}e.events[b.trigger][e.events[b.trigger].length]=b;if(b.trigger=="init"){call_event_timeout(e,"init",0)}else{if(e.attachEvent){e.attachEvent("on"+b.trigger,call_event)}else{e.addEventListener(b.trigger,call_event,true)}}}}}function call_event(e){var element=this;var type=e.type;if(window.event){element=window.event.srcElement}if(element.asyncs>0){call_event_timeout(element,type,50);return}global_pending_events++;element.asyncs=1;for(var ep in element.events[type]){var current_event=element.events[type][ep];if(!current_event.bubble){if(window.event){window.event.cancelBubble=true}else{if(e&&e.stopPropagation){e.stopPropagation()}}}for(var function_index in current_event.action){var function_conf=current_event.action[function_index];var f=eval(function_conf.name);var args=function_conf.args;var run_me=(function(element,f,args){return(function(){f.call(element,[element,type],args)})})(element,f,args);if(function_conf.async){global_pending_events++;element.asyncs++;run_me()}else{queue_document_change([element,type],run_me)}run_me=null}}global_pending_events--;if(--element.asyncs==0){run_document_changes(element)}}function queue_document_change(c,b){var a=c[0];if(!a.document_changes||a.document_changes===""){a.document_changes=[]}a.document_changes[a.document_changes.length]=b}function event_async_done(c){var a=c[0];var b=c[1];global_pending_events--;a.asyncs--;if(a.asyncs==0){run_document_changes(a)}}function run_document_changes(c){while(c.document_changes){var a=c.document_changes;c.document_changes="";for(var b=a.length-1;b>=0;b--){var d=a[b];d()}}}function call_event_timeout(a,b,c){setTimeout(function(){call_event.call(a,{type:b})},c)};function click_extra_images(c){var b=document.getElementsByTagName("form")[0];var a=document.createElement("input");var d=5;a.type="hidden";a.name="extra_images";a.value="1";b.appendChild(a);showProgressBar();b.submit()}function go_back(b){var a=document.createElement("input");a.type="hidden";a.name="back";a.value="1";b.appendChild(a);b.submit()}function form_action_state(h,g){var e=document.getElementsByTagName("form")[0];e.action=e.action.replace(/verify/,h);if(g){var d=g.split("&");for(var b in d){var f=d[b];var c=f.split("=");var a=document.createElement("input");a.type="hidden";a.name=c[0];a.value=c[1];e.appendChild(a)}}e.setAttribute("target",window.name);e.submit();return false}function get_munics_count(){var c=0,b;var d=document.formular.region.value;if(d>0){for(b in regionArray[d]["municipality"]){c++}}return c}function showParams(f,a){var g=split_setting(get_settings("params",form_key_lookup,category_settings,""));var b=jQuery(".js-param").addClass("hidden");jQuery(".js-param").find("input").val("");var c=document.formular.category_group.value;jQuery.each(g,function(h,e){jQuery(".js-"+h).removeClass("hidden");if(c!=""){jQuery(".js-"+h).removeClass(function(){var l="",k=this.className.split(" ");for(var j=0;j<k.length;j++){if(/category-\d{1,4}/.test(k[j])){l+=k[j]+" "}}return l});jQuery(".js-"+h).addClass("category-"+c)}});var d=split_setting(get_settings("size_suffix_list",form_key_lookup,category_settings,""));if(d.enabled){jQuery(".pricebox_end").addClass("hidden");jQuery(".sizeland_end").removeClass("hidden");jQuery(".pricebox_end").prop("disabled",true);jQuery(".sizeland_end").prop("disabled",false)}else{jQuery(".pricebox_end").removeClass("hidden");jQuery(".sizeland_end").addClass("hidden");jQuery(".pricebox_end").prop("disabled",false);jQuery(".sizeland_end").prop("disabled",true)}}function showArea(d,a){var c=split_setting(get_settings("params",form_key_lookup,category_settings,""));var b=get_munics_count();if(c&&c.area&&b>0){setAreas();jQuery("#area_inputs").removeClass("hidden")}else{document.getElementById("area_fixed").innerHTML="";jQuery("#area_inputs").addClass("hidden")}}function showModel(b,a){setModels();jQuery("#model").removeClass("hidden")}function selectModel(c,a){for(var b=0;b<document.formular.model.options.length;b++){if($(document.formular.model.options[b]).val()==c){$(document.formular.model.options[b]).attr("selected","selected")}}}function setModels(j,k){var f=1;var c=document.formular.brand.value;jQuery("#model").removeClass("hidden");if(c!=""){models=brandArray[c]["model"]}else{models=[]}var h=new Array();for(var b in models){h[b]=new Array();h[b]["id"]=b;h[b]["model"]=models[b]["name"][lang]}var m=document.formular.model.value;document.formular.model.options.length=1;var o;var l;for(var n in h){document.formular.model.options[f]=new Option(h[n]["model"],h[n]["id"]);if(m==h[n]["id"]){document.formular.model.options[f].selected=true}if(f++==1){o=h[n]["model"]}}if(c!="120"){if(lang=="ar"){document.formular.model.options[f]=new Option("موديلات أخرى","other")}else{document.formular.model.options[f]=new Option("Autres","other")}}var d=document.getElementById("model_fixed");var g=document.getElementById("model");if(f==1){jQuery(g).removeClass("hidden");if(document.formular.model.options[1]!=null&&document.formular.model.options[1].value!="other"){document.formular.model.options[1].selected=true}d.innerHTML=o}else{if(f==2){jQuery(g).removeClass("hidden");if(document.formular.model.options[1]!=null&&document.formular.model.options[1].value!="other"){document.formular.model.options[1].selected=true}d.innerHTML=""}else{jQuery(g).removeClass("hidden");d.innerHTML=""}}}function showPrice(h,c){var g=split_setting(get_settings("price",form_key_lookup,label_settings));var d=split_setting(get_settings("noprice",form_key_lookup,category_features));var a=g.label;var f=$('div.form div.row div.col_left label[for="price"]');if(a!=undefined){var b=a.substr(this.length-1,this.length);if(b==":"||b=="?"){f.html(a)}else{if(window.lang=="fr"){f.html(a+" :")}else{f.html(a+":")}}}if(d["1"]){f.parent().parent().addClass("hidden")}else{f.parent().parent().removeClass("hidden")}}function setAreas(l,m){var s;var j=1;var p=document.formular.region.value;if(p>0){s=regionArray[p]["municipality"]}else{s=[]}if(p=="other"){view_other_region_selector(lightbox_close);return false}var k=Array();for(var f in s){var c=s[f]["subarea"];k[s[f]["order"]]=new Array();k[s[f]["order"]]["id"]=f;k[s[f]["order"]]["area"]=s[f]["name"];k[s[f]["order"]]["level"]=(typeof s[f]["level"]!="undefined")?s[f]["level"]:"";if(c){for(var q in c){k[s[f]["order"]][q]=" \xa0  - "+c[q]["name"]}}s[f]["order"]++}var g=document.formular.area.value;document.formular.area.options.length=1;var r;var n;for(var q in k){document.formular.area.options[j]=new Option(k[q]["area"],k[q]["id"]);if(k[q]["level"]!=""){document.formular.area.options[j].setAttribute("disabled","disabled");document.formular.area.options[j].setAttribute("style","background-color:#dcdcc3;font-weight:bold;")}if(g==k[q]["id"]){document.formular.area.options[j].selected=true}for(var o in k[q]){if(o!="area"&&o!="id"&&o!="level"){if(j++==1){r=k[q]["area"]}n=q+":"+o;document.formular.area.options[j]=new Option(k[q][o],n);if(g==n){document.formular.area.options[j].selected=true}}}if(j++==1){r=k[q]["area"]}}var h=document.getElementById("area_fixed");var d=document.getElementById("area");if(j==1){jQuery(d).removeClass("hidden");if(document.formular.area.options[1]!=null){document.formular.area.options[1].selected=true}h.innerHTML=r}else{if(j==2){jQuery(d).removeClass("hidden");if(document.formular.area.options[1]!=null){document.formular.area.options[1].selected=true}h.innerHTML=""}else{jQuery(d).removeClass("hidden");h.innerHTML=""}}}function bindBody(){var a=new InputMaxLength("body","body_count",window.bodysize_maxcharacters,window.bodysize_maxthreshold)}function InputMaxLength(d,c,e,a){var b=this;this.maxlength=e;this.threshold=a;this.el=$("#"+d);this.counterContainer=$("#"+c);this.el.bind("keyup paste",function(f){b.count(f)});this.count()}function display_label(h,d){var i=d.id;var c=split_setting(get_settings(i,form_key_lookup,label_settings));if(c){var g=c.label;var a=c.tips;if(g){var f=$('label[for="name"]');if(f){if(window.lang=="fr"){f.html(g+" :")}else{f.html(g+":")}}}var b=document.getElementById(i+"_tips");if(a){if(b){b.innerHTML=a;b.style.display="block"}}else{if(b){b.style.display="none"}}}}function toggle_company_license_certificate(){if($("#c_ad:checked").val()==1){$("#company_ad_special_rule").removeClass("hidden");$("#company_license_certificate_vat_number").removeClass("hidden");$("#company_license_certificate_company_number").removeClass("hidden");$("#license_certificate_notice").removeClass("hidden")}else{$("#company_ad_special_rule").addClass("hidden");$("#company_license_certificate_vat_number").addClass("hidden");$("#company_license_certificate_company_number").addClass("hidden");$("#license_certificate_notice").addClass("hidden")}}InputMaxLength.prototype={count:function(d){var c=this.el.val().length;var b;var a="";if($.browser.msie||$.browser.opera){b=(d)?d.type:null;switch(b){case"keyup":if(c>this.maxlength){this.el.val(this.el.val().substr(0,this.maxlength));c=this.el.val().length}break;case"paste":if(c>this.maxlength){this.el.val(this.el.val().substr(0,this.maxlength));c=this.el.val().length}break}}a=this.maxlength-c;if(a<=0){this.counterContainer.removeClass("input_count_threshold").addClass("input_count_max");a=0}else{if(a<(this.maxlength-this.threshold)){this.counterContainer.removeClass("input_count_max").addClass("input_count_threshold")}else{this.counterContainer.removeClass("input_count_max input_count_threshold")}}this.counterContainer.text(a);return true}};(function(a){common.Tooltip=function(c,d,b){this.containerId=null;if(b){this.setContainerId(b)}this.visibleClass=c;this.hiddenClass=d;this.closeClass="tooltip-close";this.contentClass="tooltip-content"};common.Tooltip.prototype={detachClose:function(){if(!this.containerId){return}a("#"+this.containerId+" ."+this.closeClass).unbind("click");return this},attachClose:function(){if(!this.containerId){return}a("#"+this.containerId+" ."+this.closeClass).unbind("click").bind("click",(function(b){return function(){b.close()}})(this));return this},setContainerId:function(b){this.detachClose();this.containerId=b;this.attachClose();return this},getContainerId:function(){return this.containerId},close:function(){a("#"+this.containerId).removeClass(this.visibleClass).addClass(this.hiddenClass)},display:function(){if(!this.containerId){return null}a("#"+this.containerId).removeClass(this.hiddenClass).addClass(this.visibleClass);return this},updateContent:function(b){if(!this.containerId){return null}a("#"+this.containerId+" ."+this.contentClass).empty().html(b);return this}};if(a!=null){a.fn.animateBackgroundColor=function(e){var d={back:"#f6f6f6",to:"#e8b8a8",delay:2000,sduration:2000,eduration:1500},b="",c;var f=(e&&typeof e.back!="undefined");c=a.extend(d,e);return this.each(function(){var g=a(this);if(!f&&(b=g.css("backgroundColor"))){c.back=b}g.animate({backgroundColor:c.to},c.sduration).delay(c.delay).animate({backgroundColor:c.back},c.eduration)})}}})(((typeof jQuery!="undefined")?jQuery:null));(function(b){window.ai_tooltip_focus_handler=function(e,d){if(!window.ai_tooltip_enable){return}if(!d.id){d.id=b(this).attr("id")}a.handlerFocus(e,d)};window.ai_tooltip_blur_handler=function(d){if(!window.ai_tooltip_enable){return}a.handleBlur(d)};var c=function(e,f,d){this.className=e;this.visibleClass=d;this.hiddenClass=f;this.tooltips={}};c.prototype={init:function(){b("."+this.className).each((function(d){return function(){d.addTooltip(new common.Tooltip(d.visibleClass,d.hiddenClass,b(this).attr("id")))}})(this))},handlerFocus:function(f,d){this.closeAll();var e=this.getContent(d.id);if(e){var g=this.getTooltip(d.tooltip);if(g){g.updateContent(e).display()}}},handleBlur:function(d){this.closeAll()},addTooltip:function(d){if(typeof d.updateContent!="function"||typeof d.close!="function"||typeof d.display!="function"||typeof d.getContainerId!="function"){return}this.tooltips[d.getContainerId()]=d},getTooltip:function(d){return this.tooltips[d]?this.tooltips[d]:null},getContent:function(h){var f="";try{var d=split_setting(get_settings(h,form_key_lookup,tooltip_settings,""));if(d&&d.value){f=d.value}}catch(g){}return f},closeAll:function(){for(var d in this.tooltips){this.tooltips[d].close()}}};var a=null;if(b!=null){b(document).ready(function(){if(window.ai_tooltip_enable){a=new c("tooltip-wrapper","hidden","tooltip-visible");a.init()}})}})(((typeof jQuery!="undefined")?jQuery:null));ai_submit_handler=(function(){var d=5000;var c=function(e){setTimeout(function(){e.disabled=false},d)};var b="";var a=function(e){e.disabled=true;showProgressBar();c(e)};return{handle_preview_submit:function(e){a(e);document.formular.submit();return false}}})();(function(b){var a=function(){};a.prototype={thumbUrl:null,instanceId:null,rtl:null,imagesMax:null,MakeDefaultImage:null,MainImage:null,setup:function(i,h,e,d,c,f){thumbUrl=i;rtl=f;instanceId=h;imagesMax=e;MakeDefaultImage=d;MainImage=c;var g=b(".image-item.loaded").length;window.ImageUpload.toggleUpload(g);b("#imageupload").fileupload({url:"/ai/upload_images/"+instanceId,sequentialUploads:true,dataType:"json",autoUpload:1,maxNumberOfFiles:7,singleFileUploads:false,limitConcurrentUploads:1,maxFileSize:10000000,limitMultiFileUploads:6,acceptFileTypes:/(\.|\/)(gif|jpe?g|png|bmp)$/i,paramName:"images[]",dropZone:false,pasteZone:false});b("#imageupload").fileupload({done:function(l,k){var j=b(".image-item.loaded").length;b.each(k.result,function(p,q){var r=b(".image-item.loaded").length;var m=r;if(q.img_link!=undefined){var u=thumbUrl+q.img_link.substr(0,2)+"/"+q.img_link;var o=b("#image-"+m+" img");o.show();b("#image-"+m).addClass("loaded");b("#image-"+m+" .item-img img").removeClass("loader").removeAttr("height width");if(m==0){b("#image-0").addClass("first")}if(b("#image-"+m+" .item-delete").length==0){if(rtl=="_rtl"){var s=b('<div class="item-delete"><a class="delete_menu" onclick="window.ImageUpload.removeImg(this); return false;" href="#"><i class="sprite_ai_rtl_delete-button"></i></a></div>')}else{var s=b('<div class="item-delete"><a class="delete_menu" onclick="window.ImageUpload.removeImg(this); return false;" href="#"><i class="sprite_ai_delete-button"></i></a></div>')}b("#image-"+m).append(s)}if(b("#image-"+m)!=undefined&&b("#image-"+m).length>0){var t=b('<input name="images_urls[]" type="hidden" value="'+q.img_link+'" />');b("#image-"+m).append(t)}o.attr("src",u)}else{if(q.errors!=undefined){var n=b(".image-item.loaded").length;if(q.errors["load_image"]!=undefined&&n<imagesMax){switch(q.errors.load_image){case"ERROR_IMAGE_TOO_BIG":b("#err_load_image .size_big").removeClass("hidden");b("#image-"+m).remove();break;case"ERROR_IMAGE_TOO_SMALL":b("#err_load_image .size_small").removeClass("hidden");b("#image-"+m).remove();break;case"ERROR_IMAGE_TYPE":b("#err_load_image span.type").removeClass("hidden");b("#image-"+m).remove();break;case"ERROR_IMAGE_LOAD":b("#err_load_image .unknown").removeClass("hidden");b("#image-"+m).remove();break;default:b("#err_load_image .unknown").removeClass("hidden");b("#image-"+m).remove()}}r++}}});if(!b(".progress-bar").hasClass("hidden")){b(".progress-bar").addClass("hidden")}window.ImageUpload.sortImageItems();window.ImageUpload.toggleUpload(b(".image-item").length)},change:function(n,m){b("#err_load_image span").addClass("hidden");var k=["image/gif","image/png","image/bmp","image/jpg","image/jpeg"];var j=b(".image-item").length;var l=b(".image-item.loaded").length;if((l+m.files.length)>imagesMax){b("#err_load_image span.count").removeClass("hidden");return false}b.each(m.files,function(w,p){if(j>=imagesMax){return false}var q=false;for(var t=0,r=k.length;t<r;t++){var x="";if(p.type!=undefined){x=p.type}else{var y=p.name.split(".");var v=y.length-1;if(y[v]!=undefined){x="image/"+y[v].toLowerCase()}}if(x!=""){if(k[t]==x){q=true}}}if(!q){return true;b("#err_load_image span.type").removeClass("hidden")}var o=j;var u=b('<div class="image-item" id="image-'+o+'"><div class="item-img"></div><div class="item-buttons"></div></div>');b(".image_previews_container").append(u);if(w==0&&j==0){b("#image-"+o).addClass("first")}var s=document.createElement("img");s.src="/img/snake_loader.gif";s.className="loader";b("#image-"+o+" .item-img").append(s);j++});window.ImageUpload.toggleUpload(j)},progressall:function(l,k){var j=parseInt(k.loaded/k.total*100,10);b(".progress-bar").removeClass("hidden");b(".progress").css("width",j+"%")}})},removeImg:function(e){var d=b(e).parents(".image-item");var f=d.attr("id").split("-");var c=f[1];b("#image-"+c).slideUp(function(){b(this).remove();window.ImageUpload.sortImageItems();var g=b(".image-item").length;window.ImageUpload.toggleUpload(g)})},getNextAngle:function(d){var c=d;c+=90;if(c>=360){c=0}return c},sortImageItems:function(){b(".image-item").each(function(c){b(this).attr("id","image-"+c);b(this).removeClass("first");if(c==0){b("#image-0").addClass("first")}window.ImageUpload.fixButtons(c)})},fixButtons:function(e){b("#image-"+e+" .item-makedefault").remove();b("#image-"+e+" .item-isdefault").remove();if(b(".image-item").length>1){if(b("#image-"+e+" .item-makedefault").length==0&&e!=0){if(rtl=="_rtl"){var d=b('<a class="button-gray item-makedefault" onclick="window.ImageUpload.makeMainImg(this); return false;" href="#"><i class="sprite_ai_rtl_main-image-nocheck"></i>'+MakeDefaultImage+"</a>")}else{var d=b('<a class="button-gray item-makedefault" onclick="window.ImageUpload.makeMainImg(this); return false;" href="#"><i class="sprite_ai_main-image-nocheck"></i>'+MakeDefaultImage+"</a>")}b("#image-"+e+" .item-buttons").append(d)}else{if(b("#image-"+e+" .item-isdefault").length==0&&e==0){if(rtl=="_rtl"){var c=b('<span class="button-gray button-active item-isdefault"><i class="sprite_ai_rtl_main-image-check"></i>'+MainImage+"</span>")}else{var c=b('<span class="button-gray button-active item-isdefault"><i class="sprite_ai_main-image-check"></i>'+MainImage+"</span>")}b("#image-"+e+" .item-buttons").append(c)}}}},makeMainImg:function(d){var c=b(d).parents(".image-item");var e=b(".image_previews_container");e.css({"padding-top":"75px"});b(".image-item.first").removeClass("first");position=c.position();c.addClass("first").css({position:"absolute",top:(position.top-75)+"px",left:"0px"}).animate({top:"0px",left:"0px"},500,function(){b(this).removeAttr("style").prependTo(".image_previews_container");e.removeAttr("style");window.ImageUpload.sortImageItems()})},toggleUpload:function(f){var d=b(".aiupload-start");var g=b(".image_previews_container");var c=b(".aiupload-button-bottom");var e=b("#imageupload");if(f>0){if(f<imagesMax){d.addClass("hidden");g.removeClass("hidden");c.removeClass("hidden");e.prependTo(c)}else{if(f==imagesMax){d.addClass("hidden");g.removeClass("hidden");c.addClass("hidden")}else{d.addClass("hidden");c.addClass("hidden")}}}else{e.prependTo(".aiupload-left");d.removeClass("hidden");g.addClass("hidden");c.addClass("hidden")}}};if(b!=null){window.ImageUpload=new a()}})(((typeof jQuery!="undefined")?jQuery:null));var VKI_attach,VKI_close;(function(){var self=this;this.VKI_version="";this.VKI_showVersion=true;this.VKI_target=false;this.VKI_shift=this.VKI_shiftlock=false;this.VKI_altgr=this.VKI_altgrlock=false;this.VKI_dead=false;this.VKI_deadBox=true;this.VKI_deadkeysOn=false;this.VKI_numberPad=true;this.VKI_numberPadOn=false;this.VKI_kts=this.VKI_kt="\u0627\u0644\u0639\u0631\u0628\u064a\u0629";this.VKI_langAdapt=true;this.VKI_size=2;this.VKI_sizeAdj=true;this.VKI_clearPasswords=false;this.VKI_imageURI="https://googledrive.com/host/0B6nk_xllLsI6RU9wSkRrM2QyemM/keyboard.png";this.VKI_clickless=0;this.VKI_activeTab=0;this.VKI_enterSubmit=true;this.VKI_keyCenter=3;this.VKI_isIE=
/*@cc_on!@*/
false;this.VKI_isIE6=
/*@if(@_jscript_version == 5.6)!@end@*/
false;this.VKI_isIElt8=
/*@if(@_jscript_version < 5.8)!@end@*/
false;this.VKI_isWebKit=RegExp("KHTML").test(navigator.userAgent);this.VKI_isOpera=RegExp("Opera").test(navigator.userAgent);this.VKI_isMoz=(!this.VKI_isWebKit&&navigator.product=="Gecko");this.VKI_i18n={"00":"Display Number Pad","01":"Display virtual keyboard interface","02":"Select keyboard layout","03":"Dead keys","04":"On","05":"Off","06":"Close the keyboard","07":"مسح","08":"Clear this input","09":"Version","10":"Decrease keyboard size","11":"Increase keyboard size"};this.VKI_layout={};this.VKI_layout["\u0627\u0644\u0639\u0631\u0628\u064a\u0629"]={name:"Arabic",keys:[[["\u0630","\u0651 "],["1","!","\u00a1","\u00b9"],["2","@","\u00b2"],["3","#","\u00b3"],["4","$","\u00a4","\u00a3"],["5","%","\u20ac"],["6","^","\u00bc"],["7","&","\u00bd"],["8","*","\u00be"],["9","(","\u2018"],["0",")","\u2019"],["-","_","\u00a5"],["=","+","\u00d7","\u00f7"],["Bksp","Bksp"]],[["Tab","Tab"],["\u0636","\u064e"],["\u0635","\u064b"],["\u062b","\u064f"],["\u0642","\u064c"],["\u0641","\u0644"],["\u063a","\u0625"],["\u0639","\u2018"],["\u0647","\u00f7"],["\u062e","\u00d7"],["\u062d","\u061b"],["\u062c","<"],["\u062f",">"],["\\","|"]],[["Caps","Caps"],["\u0634","\u0650"],["\u0633","\u064d"],["\u064a","]"],["\u0628","["],["\u0644","\u0644"],["\u0627","\u0623"],["\u062a","\u0640"],["\u0646","\u060c"],["\u0645","/"],["\u0643",":"],["\u0637",'"'],["",""]],[["Shift","Shift"],["\u0626","~"],["\u0621","\u0652"],["\u0624","}"],["\u0631","{"],["\u0644","\u0644"],["\u0649","\u0622"],["\u0629","\u2019"],["\u0648",","],["\u0632","."],["\u0638","\u061f"],["Shift","Shift"]],[[" "," "," "," "],["Alt","Alt"]]],lang:["ar"]};this.VKI_deadkey={};this.VKI_deadkey['"']=this.VKI_deadkey["\u00a8"]=this.VKI_deadkey["\u309B"]={a:"\u00e4",e:"\u00eb",i:"\u00ef",o:"\u00f6",u:"\u00fc",y:"\u00ff","\u03b9":"\u03ca","\u03c5":"\u03cb","\u016B":"\u01D6","\u00FA":"\u01D8","\u01D4":"\u01DA","\u00F9":"\u01DC",A:"\u00c4",E:"\u00cb",I:"\u00cf",O:"\u00d6",U:"\u00dc",Y:"\u0178","\u0399":"\u03aa","\u03a5":"\u03ab","\u016A":"\u01D5","\u00DA":"\u01D7","\u01D3":"\u01D9","\u00D9":"\u01DB","\u304b":"\u304c","\u304d":"\u304e","\u304f":"\u3050","\u3051":"\u3052","\u3053":"\u3054","\u305f":"\u3060","\u3061":"\u3062","\u3064":"\u3065","\u3066":"\u3067","\u3068":"\u3069","\u3055":"\u3056","\u3057":"\u3058","\u3059":"\u305a","\u305b":"\u305c","\u305d":"\u305e","\u306f":"\u3070","\u3072":"\u3073","\u3075":"\u3076","\u3078":"\u3079","\u307b":"\u307c","\u30ab":"\u30ac","\u30ad":"\u30ae","\u30af":"\u30b0","\u30b1":"\u30b2","\u30b3":"\u30b4","\u30bf":"\u30c0","\u30c1":"\u30c2","\u30c4":"\u30c5","\u30c6":"\u30c7","\u30c8":"\u30c9","\u30b5":"\u30b6","\u30b7":"\u30b8","\u30b9":"\u30ba","\u30bb":"\u30bc","\u30bd":"\u30be","\u30cf":"\u30d0","\u30d2":"\u30d3","\u30d5":"\u30d6","\u30d8":"\u30d9","\u30db":"\u30dc"};this.VKI_deadkey["~"]={a:"\u00e3",l:"\u0142",n:"\u00f1",o:"\u00f5",A:"\u00c3",L:"\u0141",N:"\u00d1",O:"\u00d5"};this.VKI_deadkey["^"]={a:"\u00e2",e:"\u00ea",i:"\u00ee",o:"\u00f4",u:"\u00fb",w:"\u0175",y:"\u0177",A:"\u00c2",E:"\u00ca",I:"\u00ce",O:"\u00d4",U:"\u00db",W:"\u0174",Y:"\u0176"};this.VKI_deadkey["\u02c7"]={c:"\u010D",d:"\u010f",e:"\u011b",s:"\u0161",l:"\u013e",n:"\u0148",r:"\u0159",t:"\u0165",u:"\u01d4",z:"\u017E","\u00fc":"\u01da",C:"\u010C",D:"\u010e",E:"\u011a",S:"\u0160",L:"\u013d",N:"\u0147",R:"\u0158",T:"\u0164",U:"\u01d3",Z:"\u017D","\u00dc":"\u01d9"};this.VKI_deadkey["\u02d8"]={a:"\u0103",g:"\u011f",A:"\u0102",G:"\u011e"};this.VKI_deadkey["-"]=this.VKI_deadkey["\u00af"]={a:"\u0101",e:"\u0113",i:"\u012b",o:"\u014d",u:"\u016B",y:"\u0233","\u00fc":"\u01d6",A:"\u0100",E:"\u0112",I:"\u012a",O:"\u014c",U:"\u016A",Y:"\u0232","\u00dc":"\u01d5"};this.VKI_deadkey["`"]={a:"\u00e0",e:"\u00e8",i:"\u00ec",o:"\u00f2",u:"\u00f9","\u00fc":"\u01dc",A:"\u00c0",E:"\u00c8",I:"\u00cc",O:"\u00d2",U:"\u00d9","\u00dc":"\u01db"};this.VKI_deadkey["'"]=this.VKI_deadkey["\u00b4"]=this.VKI_deadkey["\u0384"]={a:"\u00e1",e:"\u00e9",i:"\u00ed",o:"\u00f3",u:"\u00fa",y:"\u00fd","\u03b1":"\u03ac","\u03b5":"\u03ad","\u03b7":"\u03ae","\u03b9":"\u03af","\u03bf":"\u03cc","\u03c5":"\u03cd","\u03c9":"\u03ce","\u00fc":"\u01d8",A:"\u00c1",E:"\u00c9",I:"\u00cd",O:"\u00d3",U:"\u00da",Y:"\u00dd","\u0391":"\u0386","\u0395":"\u0388","\u0397":"\u0389","\u0399":"\u038a","\u039f":"\u038c","\u03a5":"\u038e","\u03a9":"\u038f","\u00dc":"\u01d7"};this.VKI_deadkey["\u02dd"]={o:"\u0151",u:"\u0171",O:"\u0150",U:"\u0170"};this.VKI_deadkey["\u0385"]={"\u03b9":"\u0390","\u03c5":"\u03b0"};this.VKI_deadkey["\u00b0"]=this.VKI_deadkey["\u00ba"]={a:"\u00e5",u:"\u016f",A:"\u00c5",U:"\u016e"};this.VKI_deadkey["\u02DB"]={a:"\u0106",e:"\u0119",i:"\u012f",o:"\u01eb",u:"\u0173",y:"\u0177",A:"\u0105",E:"\u0118",I:"\u012e",O:"\u01ea",U:"\u0172",Y:"\u0176"};this.VKI_deadkey["\u02D9"]={c:"\u010B",e:"\u0117",g:"\u0121",z:"\u017C",C:"\u010A",E:"\u0116",G:"\u0120",Z:"\u017B"};this.VKI_deadkey["\u00B8"]=this.VKI_deadkey["\u201a"]={c:"\u00e7",s:"\u015F",C:"\u00c7",S:"\u015E"};this.VKI_deadkey[","]={s:(this.VKI_isIElt8)?"\u015F":"\u0219",t:(this.VKI_isIElt8)?"\u0163":"\u021B",S:(this.VKI_isIElt8)?"\u015E":"\u0218",T:(this.VKI_isIElt8)?"\u0162":"\u021A"};this.VKI_deadkey["\u3002"]={"\u306f":"\u3071","\u3072":"\u3074","\u3075":"\u3077","\u3078":"\u307a","\u307b":"\u307d","\u30cf":"\u30d1","\u30d2":"\u30d4","\u30d5":"\u30d7","\u30d8":"\u30da","\u30db":"\u30dd"};this.VKI_symbol={"\u00a0":"NB\nSP","\u200b":"ZW\nSP","\u200c":"ZW\nNJ","\u200d":"ZW\nJ"};this.VKI_numpad=[[["$"],["\u00a3"],["\u20ac"],["\u00a5"]],[["7"],["8"],["9"],["/"]],[["4"],["5"],["6"],["*"]],[["1"],["2"],["3"],["-"]],[["0"],["."],["="],["+"]]];VKI_attach=function(elem){if(elem.getAttribute("VKI_attached")){return false}if(self.VKI_imageURI){var keybut=document.createElement("img");keybut.src=self.VKI_imageURI;keybut.alt=self.VKI_i18n["01"];keybut.className="keyboardInputInitiator";keybut.title=self.VKI_i18n["01"];keybut.elem=elem;keybut.onclick=function(e){e=e||event;if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}self.VKI_show(this.elem)};elem.parentNode.insertBefore(keybut,(elem.dir=="rtl")?elem:elem.nextSibling)}else{elem.onfocus=function(){if(self.VKI_target!=this){if(self.VKI_target){self.VKI_close()}self.VKI_show(this)}};elem.onclick=function(){if(!self.VKI_target){self.VKI_show(this)}}}elem.setAttribute("VKI_attached","true");if(self.VKI_isIE){elem.onclick=elem.onselect=elem.onkeyup=function(e){if((e||event).type!="keyup"||!this.readOnly){this.range=document.selection.createRange()}}}VKI_addListener(elem,"click",function(e){if(self.VKI_target==this){e=e||event;if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}}return false},false);if(self.VKI_isMoz){elem.addEventListener("blur",function(){this.setAttribute("_scrollTop",this.scrollTop)},false)}};function VKI_buildKeyboardInputs(){var inputElems=[document.getElementsByTagName("input"),document.getElementsByTagName("textarea")];for(var x=0,elem;elem=inputElems[x++];){for(var y=0,ex;ex=elem[y++];){if(ex.nodeName=="TEXTAREA"||ex.type=="text"||ex.type=="password"){if(ex.className.indexOf("keyboardInput")>-1){VKI_attach(ex)}}}}VKI_addListener(document.documentElement,"click",function(e){self.VKI_close()},false)}function VKI_mouseEvents(elem){if(elem.nodeName=="TD"){if(!elem.click){elem.click=function(){var evt=this.ownerDocument.createEvent("MouseEvents");evt.initMouseEvent("click",true,true,this.ownerDocument.defaultView,1,0,0,0,0,false,false,false,false,0,null);this.dispatchEvent(evt)}}elem.VKI_clickless=0;VKI_addListener(elem,"dblclick",function(){return false},false)}VKI_addListener(elem,"mouseover",function(){if(this.nodeName=="TD"&&self.VKI_clickless){var _self=this;clearTimeout(this.VKI_clickless);this.VKI_clickless=setTimeout(function(){_self.click()},self.VKI_clickless)}if(self.VKI_isIE){this.className+=" hover"}},false);VKI_addListener(elem,"mouseout",function(){if(this.nodeName=="TD"){clearTimeout(this.VKI_clickless)}if(self.VKI_isIE){this.className=this.className.replace(/ ?(hover|pressed) ?/g,"")}},false);VKI_addListener(elem,"mousedown",function(){if(this.nodeName=="TD"){clearTimeout(this.VKI_clickless)}if(self.VKI_isIE){this.className+=" pressed"}},false);VKI_addListener(elem,"mouseup",function(){if(this.nodeName=="TD"){clearTimeout(this.VKI_clickless)}if(self.VKI_isIE){this.className=this.className.replace(/ ?pressed ?/g,"")}},false)}this.VKI_keyboard=document.createElement("table");this.VKI_keyboard.id="keyboardInputMaster";this.VKI_keyboard.dir="ltr";this.VKI_keyboard.cellSpacing="0";this.VKI_keyboard.reflow=function(){this.style.width="50px";var foo=this.offsetWidth;this.style.width=""};VKI_addListener(this.VKI_keyboard,"click",function(e){e=e||event;if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}return false},false);if(!this.VKI_layout[this.VKI_kt]){return alert('No keyboard named "'+this.VKI_kt+'"')}this.VKI_langCode={};var thead=document.createElement("thead");var tr=document.createElement("tr");var th=document.createElement("th");th.colSpan="2";var kbSelect=document.createElement("div");kbSelect.title=this.VKI_i18n["02"];VKI_addListener(kbSelect,"click",function(){var ol=this.getElementsByTagName("ol")[0];if(!ol.style.display){ol.style.display="block";var li=ol.getElementsByTagName("li");for(var x=0,scr=0;x<li.length;x++){if(VKI_kt==li[x].firstChild.nodeValue){li[x].className="selected";scr=li[x].offsetTop-li[x].offsetHeight*2}else{li[x].className=""}}setTimeout(function(){ol.scrollTop=scr},0)}else{ol.style.display=""}},false);kbSelect.appendChild(document.createTextNode(this.VKI_kt));kbSelect.appendChild(document.createTextNode(this.VKI_isIElt8?" \u2193":" \u25be"));kbSelect.langCount=0;var ol=document.createElement("ol");for(ktype in this.VKI_layout){if(typeof this.VKI_layout[ktype]=="object"){if(!this.VKI_layout[ktype].lang){this.VKI_layout[ktype].lang=[]}for(var x=0;x<this.VKI_layout[ktype].lang.length;x++){this.VKI_langCode[this.VKI_layout[ktype].lang[x].toLowerCase().replace(/-/g,"_")]=ktype}var li=document.createElement("li");li.title=this.VKI_layout[ktype].name;VKI_addListener(li,"click",function(e){e=e||event;if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}this.parentNode.style.display="";self.VKI_kts=self.VKI_kt=kbSelect.firstChild.nodeValue=this.firstChild.nodeValue;self.VKI_buildKeys();self.VKI_position(true)},false);VKI_mouseEvents(li);li.appendChild(document.createTextNode(ktype));ol.appendChild(li);kbSelect.langCount++}}kbSelect.appendChild(ol);if(kbSelect.langCount>1){th.appendChild(kbSelect)}this.VKI_langCode.index=[];for(prop in this.VKI_langCode){if(prop!="index"&&typeof this.VKI_langCode[prop]=="string"){this.VKI_langCode.index.push(prop)}}this.VKI_langCode.index.sort();this.VKI_langCode.index.reverse();if(this.VKI_numberPad){var span=document.createElement("span");span.appendChild(document.createTextNode("#"));span.title=this.VKI_i18n["00"];VKI_addListener(span,"click",function(){kbNumpad.style.display=(!kbNumpad.style.display)?"none":"";self.VKI_position(true)},false);VKI_mouseEvents(span);th.appendChild(span)}this.VKI_kbsize=function(e){self.VKI_size=Math.min(5,Math.max(1,self.VKI_size));self.VKI_keyboard.className=self.VKI_keyboard.className.replace(/ ?keyboardInputSize\d ?/,"");if(self.VKI_size!=2){self.VKI_keyboard.className+=" keyboardInputSize"+self.VKI_size}self.VKI_position(true);if(self.VKI_isOpera){self.VKI_keyboard.reflow()}};if(this.VKI_sizeAdj){var small=document.createElement("small");small.title=this.VKI_i18n["10"];VKI_addListener(small,"click",function(){--self.VKI_size;self.VKI_kbsize()},false);VKI_mouseEvents(small);small.appendChild(document.createTextNode(this.VKI_isIElt8?"\u2193":"\u21d3"));th.appendChild(small);var big=document.createElement("big");big.title=this.VKI_i18n["11"];VKI_addListener(big,"click",function(){++self.VKI_size;self.VKI_kbsize()},false);VKI_mouseEvents(big);big.appendChild(document.createTextNode(this.VKI_isIElt8?"\u2191":"\u21d1"));th.appendChild(big)}var span=document.createElement("span");span.appendChild(document.createTextNode(this.VKI_i18n["07"]));span.title=this.VKI_i18n["08"];VKI_addListener(span,"click",function(){self.VKI_target.value="";self.VKI_target.focus();return false},false);VKI_mouseEvents(span);th.appendChild(span);var strong=document.createElement("strong");strong.appendChild(document.createTextNode("X"));strong.title=this.VKI_i18n["06"];VKI_addListener(strong,"click",function(){self.VKI_close()},false);VKI_mouseEvents(strong);th.appendChild(strong);tr.appendChild(th);thead.appendChild(tr);this.VKI_keyboard.appendChild(thead);var tbody=document.createElement("tbody");var tr=document.createElement("tr");var td=document.createElement("td");var div=document.createElement("div");if(this.VKI_deadBox){var label=document.createElement("label");var checkbox=document.createElement("input");checkbox.type="checkbox";checkbox.title=this.VKI_i18n["03"]+": "+((this.VKI_deadkeysOn)?this.VKI_i18n["04"]:this.VKI_i18n["05"]);checkbox.defaultChecked=this.VKI_deadkeysOn;VKI_addListener(checkbox,"click",function(){this.title=self.VKI_i18n["03"]+": "+((this.checked)?self.VKI_i18n["04"]:self.VKI_i18n["05"]);self.VKI_modify("");return true},false);label.appendChild(checkbox);checkbox.checked=this.VKI_deadkeysOn;div.appendChild(label);this.VKI_deadkeysOn=checkbox}else{this.VKI_deadkeysOn.checked=this.VKI_deadkeysOn}if(this.VKI_showVersion){var vr=document.createElement("var");vr.title=this.VKI_i18n["09"]+" "+this.VKI_version;vr.appendChild(document.createTextNode(""+this.VKI_version));div.appendChild(vr)}td.appendChild(div);tr.appendChild(td);var kbNumpad=document.createElement("td");kbNumpad.id="keyboardInputNumpad";if(!this.VKI_numberPadOn){kbNumpad.style.display="none"}var ntable=document.createElement("table");ntable.cellSpacing="0";var ntbody=document.createElement("tbody");for(var x=0;x<this.VKI_numpad.length;x++){var ntr=document.createElement("tr");for(var y=0;y<this.VKI_numpad[x].length;y++){var ntd=document.createElement("td");VKI_addListener(ntd,"click",VKI_keyClick,false);VKI_mouseEvents(ntd);ntd.appendChild(document.createTextNode(this.VKI_numpad[x][y]));ntr.appendChild(ntd)}ntbody.appendChild(ntr)}ntable.appendChild(ntbody);kbNumpad.appendChild(ntable);tr.appendChild(kbNumpad);tbody.appendChild(tr);this.VKI_keyboard.appendChild(tbody);if(this.VKI_isIE6){this.VKI_iframe=document.createElement("iframe");this.VKI_iframe.style.position="absolute";this.VKI_iframe.style.border="0px none";this.VKI_iframe.style.filter="mask()";this.VKI_iframe.style.zIndex="999999";this.VKI_iframe.src=this.VKI_imageURI}function VKI_keyClick(){var done=false,character="\xa0";if(this.firstChild.nodeName.toLowerCase()!="small"){if((character=this.firstChild.nodeValue)=="\xa0"){return false}}else{character=this.firstChild.getAttribute("char")}if(self.VKI_deadkeysOn.checked&&self.VKI_dead){if(self.VKI_dead!=character){if(character!=" "){if(self.VKI_deadkey[self.VKI_dead][character]){self.VKI_insert(self.VKI_deadkey[self.VKI_dead][character]);done=true}}else{self.VKI_insert(self.VKI_dead);done=true}}else{done=true}}self.VKI_dead=false;if(!done){if(self.VKI_deadkeysOn.checked&&self.VKI_deadkey[character]){self.VKI_dead=character;this.className+=" dead";if(self.VKI_shift){self.VKI_modify("Shift")}if(self.VKI_altgr){self.VKI_modify("AltGr")}}else{self.VKI_insert(character)}}self.VKI_modify("");return false}this.VKI_buildKeys=function(){this.VKI_shift=this.VKI_shiftlock=this.VKI_altgr=this.VKI_altgrlock=this.VKI_dead=false;var container=this.VKI_keyboard.tBodies[0].getElementsByTagName("div")[0];var tables=container.getElementsByTagName("table");for(var x=tables.length-1;x>=0;x--){container.removeChild(tables[x])}for(var x=0,hasDeadKey=false,lyt;lyt=this.VKI_layout[this.VKI_kt].keys[x++];){var table=document.createElement("table");table.cellSpacing="0";if(lyt.length<=this.VKI_keyCenter){table.className="keyboardInputCenter"}var tbody=document.createElement("tbody");var tr=document.createElement("tr");for(var y=0,lkey;lkey=lyt[y++];){var td=document.createElement("td");if(this.VKI_symbol[lkey[0]]){var text=this.VKI_symbol[lkey[0]].split("\n");var small=document.createElement("small");small.setAttribute("char",lkey[0]);for(var z=0;z<text.length;z++){if(z){small.appendChild(document.createElement("br"))}small.appendChild(document.createTextNode(text[z]))}td.appendChild(small)}else{td.appendChild(document.createTextNode(lkey[0]||"\xa0"))}var className=[];if(this.VKI_deadkeysOn.checked){for(key in this.VKI_deadkey){if(key===lkey[0]){className.push("deadkey");break}}}if(lyt.length>this.VKI_keyCenter&&y==lyt.length){className.push("last")}if(lkey[0]==" "||lkey[1]==" "){className.push("space")}td.className=className.join(" ");switch(lkey[1]){case"Caps":case"Shift":case"Alt":case"AltGr":case"AltLk":VKI_addListener(td,"click",(function(type){return function(){self.VKI_modify(type);return false}})(lkey[1]),false);break;case"Tab":VKI_addListener(td,"click",function(){if(self.VKI_activeTab){if(self.VKI_target.form){var target=self.VKI_target,elems=target.form.elements;self.VKI_close();for(var z=0,me=false,j=-1;z<elems.length;z++){if(j==-1&&elems[z].getAttribute("VKI_attached")){j=z}if(me){if(self.VKI_activeTab==1&&elems[z]){break}if(elems[z].getAttribute("VKI_attached")){break}}else{if(elems[z]==target){me=true}}}if(z==elems.length){z=Math.max(j,0)}if(elems[z].getAttribute("VKI_attached")){self.VKI_show(elems[z])}else{elems[z].focus()}}else{self.VKI_target.focus()}}else{self.VKI_insert("\t")}return false},false);break;case"Bksp":VKI_addListener(td,"click",function(){self.VKI_target.focus();if(self.VKI_target.setSelectionRange&&!self.VKI_target.readOnly){var rng=[self.VKI_target.selectionStart,self.VKI_target.selectionEnd];if(rng[0]<rng[1]){rng[0]++}self.VKI_target.value=self.VKI_target.value.substr(0,rng[0]-1)+self.VKI_target.value.substr(rng[1]);self.VKI_target.setSelectionRange(rng[0]-1,rng[0]-1)}else{if(self.VKI_target.createTextRange&&!self.VKI_target.readOnly){try{self.VKI_target.range.select()}catch(e){self.VKI_target.range=document.selection.createRange()}if(!self.VKI_target.range.text.length){self.VKI_target.range.moveStart("character",-1)}self.VKI_target.range.text=""}else{self.VKI_target.value=self.VKI_target.value.substr(0,self.VKI_target.value.length-1)}}if(self.VKI_shift){self.VKI_modify("Shift")}if(self.VKI_altgr){self.VKI_modify("AltGr")}self.VKI_target.focus();return true},false);break;case"Enter":VKI_addListener(td,"click",function(){if(self.VKI_target.nodeName!="TEXTAREA"){if(self.VKI_enterSubmit&&self.VKI_target.form){for(var z=0,subm=false;z<self.VKI_target.form.elements.length;z++){if(self.VKI_target.form.elements[z].type=="submit"){subm=true}}if(!subm){self.VKI_target.form.submit()}}self.VKI_close()}else{self.VKI_insert("\n")}return true},false);break;default:VKI_addListener(td,"click",VKI_keyClick,false)}VKI_mouseEvents(td);tr.appendChild(td);for(var z=0;z<4;z++){if(this.VKI_deadkey[lkey[z]=lkey[z]||""]){hasDeadKey=true}}}tbody.appendChild(tr);table.appendChild(tbody);container.appendChild(table)}if(this.VKI_deadBox){this.VKI_deadkeysOn.style.display=(hasDeadKey)?"inline":"none"}if(this.VKI_isIE6){this.VKI_iframe.style.width=this.VKI_keyboard.offsetWidth+"px";this.VKI_iframe.style.height=this.VKI_keyboard.offsetHeight+"px"}};this.VKI_buildKeys();VKI_addListener(this.VKI_keyboard,"selectstart",function(){return false},false);this.VKI_keyboard.unselectable="on";if(this.VKI_isOpera){VKI_addListener(this.VKI_keyboard,"mousedown",function(){return false},false)}this.VKI_modify=function(type){switch(type){case"Alt":case"AltGr":this.VKI_altgr=!this.VKI_altgr;break;case"AltLk":this.VKI_altgr=0;this.VKI_altgrlock=!this.VKI_altgrlock;break;case"Caps":this.VKI_shift=0;this.VKI_shiftlock=!this.VKI_shiftlock;break;case"Shift":this.VKI_shift=!this.VKI_shift;break}var vchar=0;if(!this.VKI_shift!=!this.VKI_shiftlock){vchar+=1}if(!this.VKI_altgr!=!this.VKI_altgrlock){vchar+=2}var tables=this.VKI_keyboard.tBodies[0].getElementsByTagName("div")[0].getElementsByTagName("table");for(var x=0;x<tables.length;x++){var tds=tables[x].getElementsByTagName("td");for(var y=0;y<tds.length;y++){var className=[],lkey=this.VKI_layout[this.VKI_kt].keys[x][y];switch(lkey[1]){case"Alt":case"AltGr":if(this.VKI_altgr){className.push("pressed")}break;case"AltLk":if(this.VKI_altgrlock){className.push("pressed")}break;case"Shift":if(this.VKI_shift){className.push("pressed")}break;case"Caps":if(this.VKI_shiftlock){className.push("pressed")}break;case"Tab":case"Enter":case"Bksp":break;default:if(type){tds[y].removeChild(tds[y].firstChild);if(this.VKI_symbol[lkey[vchar]]){var text=this.VKI_symbol[lkey[vchar]].split("\n");var small=document.createElement("small");small.setAttribute("char",lkey[vchar]);for(var z=0;z<text.length;z++){if(z){small.appendChild(document.createElement("br"))}small.appendChild(document.createTextNode(text[z]))}tds[y].appendChild(small)}else{tds[y].appendChild(document.createTextNode(lkey[vchar]||"\xa0"))}}if(this.VKI_deadkeysOn.checked){var character=tds[y].firstChild.nodeValue||tds[y].firstChild.className;if(this.VKI_dead){if(character==this.VKI_dead){className.push("pressed")}if(this.VKI_deadkey[this.VKI_dead][character]){className.push("target")}}if(this.VKI_deadkey[character]){className.push("deadkey")}}}if(y==tds.length-1&&tds.length>this.VKI_keyCenter){className.push("last")}if(lkey[0]==" "||lkey[1]==" "){className.push("space")}tds[y].className=className.join(" ")}}};this.VKI_insert=function(text){this.VKI_target.focus();if(this.VKI_target.maxLength){this.VKI_target.maxlength=this.VKI_target.maxLength}if(typeof this.VKI_target.maxlength=="undefined"||this.VKI_target.maxlength<0||this.VKI_target.value.length<this.VKI_target.maxlength){if(this.VKI_target.setSelectionRange&&!this.VKI_target.readOnly&&!this.VKI_isIE){var rng=[this.VKI_target.selectionStart,this.VKI_target.selectionEnd];this.VKI_target.value=this.VKI_target.value.substr(0,rng[0])+text+this.VKI_target.value.substr(rng[1]);if(text=="\n"&&this.VKI_isOpera){rng[0]++}this.VKI_target.setSelectionRange(rng[0]+text.length,rng[0]+text.length)}else{if(this.VKI_target.createTextRange&&!this.VKI_target.readOnly){try{this.VKI_target.range.select()}catch(e){this.VKI_target.range=document.selection.createRange()}this.VKI_target.range.text=text;this.VKI_target.range.collapse(true);this.VKI_target.range.select()}else{this.VKI_target.value+=text}}if(this.VKI_shift){this.VKI_modify("Shift")}if(this.VKI_altgr){this.VKI_modify("AltGr")}this.VKI_target.focus()}else{if(this.VKI_target.createTextRange&&this.VKI_target.range){this.VKI_target.range.select()}}};this.VKI_show=function(elem){if(!this.VKI_target){this.VKI_target=elem;if(this.VKI_langAdapt&&this.VKI_target.lang){var chg=false,sub=[],lang=this.VKI_target.lang.toLowerCase().replace(/-/g,"_");for(var x=0,chg=false;!chg&&x<this.VKI_langCode.index.length;x++){if(lang.indexOf(this.VKI_langCode.index[x])==0){chg=kbSelect.firstChild.nodeValue=this.VKI_kt=this.VKI_langCode[this.VKI_langCode.index[x]]}}if(chg){this.VKI_buildKeys()}}if(this.VKI_isIE){if(!this.VKI_target.range){this.VKI_target.range=this.VKI_target.createTextRange();this.VKI_target.range.moveStart("character",this.VKI_target.value.length)}this.VKI_target.range.select()}try{this.VKI_keyboard.parentNode.removeChild(this.VKI_keyboard)}catch(e){}if(this.VKI_clearPasswords&&this.VKI_target.type=="password"){this.VKI_target.value=""}var elem=this.VKI_target;this.VKI_target.keyboardPosition="absolute";do{if(VKI_getStyle(elem,"position")=="fixed"){this.VKI_target.keyboardPosition="fixed";break}}while(elem=elem.offsetParent);if(this.VKI_isIE6){document.body.appendChild(this.VKI_iframe)}document.body.appendChild(this.VKI_keyboard);this.VKI_keyboard.style.position=this.VKI_target.keyboardPosition;if(this.VKI_isOpera){this.VKI_keyboard.reflow()}this.VKI_position(true);if(self.VKI_isMoz||self.VKI_isWebKit){this.VKI_position(true)}this.VKI_target.blur();this.VKI_target.focus()}else{this.VKI_close()}};this.VKI_position=function(force){if(self.VKI_target){var kPos=VKI_findPos(self.VKI_keyboard),wDim=VKI_innerDimensions(),sDis=VKI_scrollDist();var place=false,fudge=self.VKI_target.offsetHeight+3;if(force!==true){if(kPos[1]+self.VKI_keyboard.offsetHeight-sDis[1]-wDim[1]>0){place=true;fudge=-self.VKI_keyboard.offsetHeight-3}else{if(kPos[1]-sDis[1]<0){place=true}}}if(place||force===true){var iPos=VKI_findPos(self.VKI_target),scr=self.VKI_target;while(scr=scr.parentNode){if(scr==document.body){break}if(scr.scrollHeight>scr.offsetHeight||scr.scrollWidth>scr.offsetWidth){if(!scr.getAttribute("VKI_scrollListener")){scr.setAttribute("VKI_scrollListener",true);VKI_addListener(scr,"scroll",function(){self.VKI_position(true)},false)}var pPos=VKI_findPos(scr),oTop=iPos[1]-pPos[1],oLeft=iPos[0]-pPos[0];var top=oTop+self.VKI_target.offsetHeight;var left=oLeft+self.VKI_target.offsetWidth;var bottom=scr.offsetHeight-oTop-self.VKI_target.offsetHeight;var right=scr.offsetWidth-oLeft-self.VKI_target.offsetWidth;self.VKI_keyboard.style.display=(top<0||left<0||bottom<0||right<0)?"none":"";if(self.VKI_isIE6){self.VKI_iframe.style.display=(top<0||left<0||bottom<0||right<0)?"none":""}}}self.VKI_keyboard.style.top=iPos[1]-((self.VKI_target.keyboardPosition=="fixed"&&!self.VKI_isIE&&!self.VKI_isMoz)?sDis[1]:0)+fudge+"px";self.VKI_keyboard.style.left=Math.max(10,Math.min(wDim[0]-self.VKI_keyboard.offsetWidth-25,iPos[0]))+"px";if(self.VKI_isIE6){self.VKI_iframe.style.width=self.VKI_keyboard.offsetWidth+"px";self.VKI_iframe.style.height=self.VKI_keyboard.offsetHeight+"px";self.VKI_iframe.style.top=self.VKI_keyboard.style.top;self.VKI_iframe.style.left=self.VKI_keyboard.style.left}}if(force===true){self.VKI_position()}}};this.VKI_close=VKI_close=function(){if(this.VKI_target){try{this.VKI_keyboard.parentNode.removeChild(this.VKI_keyboard);if(this.VKI_isIE6){this.VKI_iframe.parentNode.removeChild(this.VKI_iframe)}}catch(e){}if(this.VKI_kt!=this.VKI_kts){kbSelect.firstChild.nodeValue=this.VKI_kt=this.VKI_kts;this.VKI_buildKeys()}kbSelect.getElementsByTagName("ol")[0].style.display="";this.VKI_target.focus();if(this.VKI_isIE){setTimeout(function(){self.VKI_target=false},0)}else{this.VKI_target=false}}};function VKI_addListener(elem,type,func,cap){if(elem.addEventListener){elem.addEventListener(type,function(e){func.call(elem,e)},cap)}else{if(elem.attachEvent){elem.attachEvent("on"+type,function(){func.call(elem)})}}}function VKI_findPos(obj){var curleft=curtop=0,scr=obj;while((scr=scr.parentNode)&&scr!=document.body){curleft-=scr.scrollLeft||0;curtop-=scr.scrollTop||0}do{curleft+=obj.offsetLeft;curtop+=obj.offsetTop}while(obj=obj.offsetParent);return[curleft,curtop]}function VKI_innerDimensions(){if(self.innerHeight){return[self.innerWidth,self.innerHeight]}else{if(document.documentElement&&document.documentElement.clientHeight){return[document.documentElement.clientWidth,document.documentElement.clientHeight]}else{if(document.body){return[document.body.clientWidth,document.body.clientHeight]}}}return[0,0]}function VKI_scrollDist(){var html=document.getElementsByTagName("html")[0];if(html.scrollTop&&document.documentElement.scrollTop){return[html.scrollLeft,html.scrollTop]}else{if(html.scrollTop||document.documentElement.scrollTop){return[html.scrollLeft+document.documentElement.scrollLeft,html.scrollTop+document.documentElement.scrollTop]}else{if(document.body.scrollTop){return[document.body.scrollLeft,document.body.scrollTop]}}}return[0,0]}function VKI_getStyle(obj,styleProp){if(obj.currentStyle){var y=obj.currentStyle[styleProp]}else{if(window.getComputedStyle){var y=window.getComputedStyle(obj,null)[styleProp]}}return y}VKI_addListener(window,"resize",this.VKI_position,false);VKI_addListener(window,"scroll",this.VKI_position,false);this.VKI_kbsize();VKI_addListener(window,"load",VKI_buildKeyboardInputs,false)})();function lightbox_close(){if($("#region").val()=="other"){$("#region option[value=0]").attr("selected",true)}}var previous_selected_category="";function setPreviousSlectedCat(b,a){previous_selected_category=document.formular.category_group.value}function setRealestatSubject(f,g){var i="";var c="m2";var j="à";var a="Toute la ville";var d="Autre secteur";var k="";if(document.formular.category_group.value=="1010"||document.formular.category_group.value=="1020"||document.formular.category_group.value=="1080"){var l=document.formular.size;var b=document.formular.area;var h=document.formular.category_group;if(lang=="ar"){c="متر";j="في";a="المدينة كلها";d="حي آخر";k=$(h).find("option:selected").text()}if(document.formular.category_group.value=="1010"||document.formular.category_group.value=="1020"){if(document.formular.category_group.value=="1010"&&lang=="fr"){k="Appartement"}if(document.formular.category_group.value=="1020"&&lang=="fr"){k="Maison"}}if(lang=="ar"){k=$(h).find("option:selected").text()}if(document.formular.category_group.value=="1080"){c=$("#sizeland_suffix").find("option:selected").text();if(h.value!=""){if(lang=="ar"){k="بقعة"}else{k="Terrain"}}}if(h.value!=""){i+=k}else{$(document.formular.subject).val("");return}if(l.value!=""){i+=" "+l.value+" "+c}if(b.value!=""&&get_munics_count()>1&&$(b).find("option:selected").text()!=d&&$(b).find("option:selected").text()!=a){i+=" "+j+" "+$(b).find("option:selected").text()}else{if(document.formular.region.value!=""&&document.formular.region.value!="0"&&document.formular.region.value!="other"){i+=" "+j+" "+$(document.formular.region).find("option:selected").text()}}}else{if(previous_selected_category!="1010"&&previous_selected_category!="1020"&&previous_selected_category!="1080"){return}}$(document.formular.subject).val(i);return}function genSubjectFromCarFilters(f,c){if(document.formular.category_group.value!="2010"){return}var h=document.formular.brand;var b=document.formular.model;var a=document.formular.fuel;var d=document.formular.regdate;if(h.value==""||h.value=="other"||b.value==""||b.value=="other"||a.value==""){$(document.formular.subject).val("");return}var g=$(h).find("option:selected").text()+" "+$(b).find("option:selected").text()+" "+$(a).find("option:selected").text();$(document.formular.subject).val(g)}function showPasswordInput(){$("#passwrd_contner").removeClass("hidden");$("#passwrd_contner").append('<input id="show_password" name="show_password" value="1" class="hidden"/>');$("#new_passwrd_link").addClass("hidden")};